{% extends 'base.html' %}

{% block content %}
<div class="container mt-5 pt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card-minimal p-4">
                <div class="text-center mb-4">
                    <h2 class="text-gold">Nueva contraseña</h2>
                    <p class="text-muted">Ingresa tu nueva contraseña/p>
                </div>

                <form method="post" novalidate>
                    {% csrf_token %}

                    {% if error %}
                        <div class="alert alert-danger">{{ error }}</div>
                    {% endif %}

                    <!-- Contraseña -->
                    <div class="mb-3">
                        <label for="id_password1" class="form-label text-light">
                            Nueva contraseña
                            <span class="text-warning small">
                                (mínimo 10 caracteres, 1 mayúscula, 1 número y 1 carácter especial: !@#$%&*)
                            </span>
                        </label>
                        <input
                            type="password"
                            name="password1"
                            class="form-control bg-dark text-light border-minimal"
                            required
                            id="id_password1"
                            placeholder="Crea una contraseña segura"
                        >
                    </div>

                    <!-- Confirmar contraseña -->
                    <div class="mb-3">
                        <label for="id_password2" class="form-label text-light">Confirmar contraseña</label>
                        <input
                            type="password"
                            name="password2"
                            class="form-control bg-dark text-light border-minimal"
                            required
                            id="id_password2"
                            placeholder="Repite tu contraseña"
                        >
                        {# Mostramos el error aquí (coincidencia o complejidad) #}
                        {% if error %}
                            <span class="text-danger small">{{ error }}</span>
                        {% endif %}
                    </div>

                    <button type="submit" class="btn-gold w-100 py-2 mb-3">
                        Restablecer contraseña
                    </button>
                </form>

                <div class="text-center mt-4">
                    <a href="{% url 'usuarios:login' %}" class="text-gold text-decoration-none">
                        Volver al inicio de sesión
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


